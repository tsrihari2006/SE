Perfect ğŸš€ Youâ€™re asking scenario-based Docker CLI + Dockerfile usage questions.
Hereâ€™s a clear set of **answers with commands + explanations** for each:

---

### 1ï¸âƒ£ Check if a container is active

```bash
docker ps
```

ğŸ‘‰ Lists all **running containers**.
Use `docker ps -a` to see **all containers** (including stopped ones).

---

### 2ï¸âƒ£ Stop a running container named `web_app`

```bash
docker stop web_app
```

ğŸ‘‰ Gracefully stops the container.
If it doesnâ€™t stop, force it:

```bash
docker kill web_app
```

---

### 3ï¸âƒ£ Build an image named `myapi` from a Dockerfile

```bash
docker build -t myapi .
```

ğŸ‘‰ `-t myapi` tags the image with the name `myapi`.
`.` means build from the **current directory**.

---

### 4ï¸âƒ£ Run `web_app` and expose port 5000 â†’ 8080

```bash
docker run -d -p 8080:5000 --name web_app myapi
```

ğŸ‘‰ `-d` = detached mode.
`-p hostPort:containerPort` maps ports.
`--name web_app` names the container.

---

### 5ï¸âƒ£ Enter the containerâ€™s shell

```bash
docker exec -it web_app /bin/bash
```

ğŸ‘‰ `-it` makes it interactive.
If the container has only `sh`:

```bash
docker exec -it web_app sh
```

---

### 6ï¸âƒ£ Delete an image called `old_api`

```bash
docker rmi old_api
```

ğŸ‘‰ Removes the image.
If a container is using it, stop & remove the container first.

---

### 7ï¸âƒ£ Check logs of a container

```bash
docker logs web_app
```

ğŸ‘‰ Shows the containerâ€™s logs.
Use `-f` to **follow logs in real time**:

```bash
docker logs -f web_app
```

---

### 8ï¸âƒ£ Start a container in the background

```bash
docker run -d myapi
```

ğŸ‘‰ `-d` makes it run in detached mode.

---

### 9ï¸âƒ£ Check which container uses port 3000

```bash
docker ps --filter "publish=3000"
```

or:

```bash
docker ps -a | grep 3000
```

---

### ğŸ”Ÿ Tag an existing image

```bash
docker tag <image_id> myapi:v1
```

ğŸ‘‰ `<image_id>` can be found with `docker images`.

---

### 1ï¸âƒ£1ï¸âƒ£ Export an image to `.tar`

```bash
docker save -o myapi.tar myapi
```

ğŸ‘‰ Creates `myapi.tar` for transfer.
To load later:

```bash
docker load -i myapi.tar
```

---

### 1ï¸âƒ£2ï¸âƒ£ Restart container automatically on crash

```bash
docker run -d --restart always myapi
```

ğŸ‘‰ Policies: `no`, `always`, `on-failure`, `unless-stopped`.

---

### 1ï¸âƒ£3ï¸âƒ£ Monitor CPU & RAM usage

```bash
docker stats
```

ğŸ‘‰ Shows live CPU, RAM, and network usage.

âœ… **Limit RAM**:

```bash
docker run -m 512m myapi
```

(limits memory to 512MB)

âœ… **Measure actual usage**:
Use `docker stats` or inspect cgroups:

```bash
docker inspect web_app | grep Memory
```

---

### 1ï¸âƒ£4ï¸âƒ£ Run a shell command before starting app

In **Dockerfile**, use `CMD` or `ENTRYPOINT`:

```dockerfile
CMD ["sh", "-c", "echo Hello && python app.py"]
```

ğŸ‘‰ Runs `echo Hello` before starting the app.

---

### 1ï¸âƒ£5ï¸âƒ£ Create custom Nginx image with static files

**Dockerfile:**

```dockerfile
FROM nginx:alpine
COPY ./static /usr/share/nginx/html
```

Build & run:

```bash
docker build -t mynginx .
docker run -d -p 8080:80 mynginx
```

ğŸ‘‰ Copies your static files into Nginxâ€™s web root.
